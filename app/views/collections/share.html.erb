<% activate_nav!(:collections) %>
<%- title @collection.name.html_safe %>

<% content_for :meta do -%>
  <% if @collection.imaged? %>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="<%= @collection.media_url %>">
    <meta property="og:image" content="<%= @collection.media_url %>">
  <% else %>
    <meta name="twitter:card" content="summary">
  <% end %>
  <meta name="twitter:site" content="@noodlesapp">
  <meta name="twitter:creator" content="@noodlesapp">
  <meta property="og:site_name" content="Noodles">
  <meta property="og:url" content="<%= @collection.public_url %>">
  <meta name="twitter:title" content="<%= @collection.name %>">
  <meta property="og:title" content="<%= @collection.name %>">
  <% @description = "This collection was published on Noodles by #{@collection.publisher}." if @collection.description.blank? %>
  <meta property="og:description" content="<%= @description || @recipe.description %>">
  <meta name="twitter:description" content="<%= @description || @recipe.description %>">
  <meta name="description" content="<%= @description || @recipe.description %>">
<% end -%>

<%= react_component 'CollectionPage',
  collection: @collection_json,
  edit: false,
  pub: true
%>

<%= render 'shared/public', object: @collection %>
<%= render 'shared/promo' %>
