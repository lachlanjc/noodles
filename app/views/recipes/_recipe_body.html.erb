<h2 class="mt2">Ingredients</h1>
<ul class="text text-normalized list-reset">
<% @recipe.ingredients.each_line do |content| %>
  <%= simple_format(content, {:itemprop => "ingredients"}, wrapper_tag: "li") %>
<% end %>
</ul>

<h2 class="mt2">Instructions</h2>
<div class="text text-normalized" itemprop="recipeInstructions">
  <%= sanitize markdown(@recipe.instructions) %>
</div>

<% unless @recipe.img.url.blank? %>
<%= image_tag @recipe.img, alt: "Photo of " + @recipe.title, class: "recipe-photo block mt2 mb2 mx-auto rounded", itemprop: "image" %>
<% end %>

<h2 class="mt2">Details</h2>
<% if @recipe.source.blank? && @recipe.serves.blank? %>
<p class="grey-2">No details for this recipe. Details describe where the recipe came from and the recipe's yield.</p>
<% else %>
<p class="grey-2 text-normalized">Source: <%= auto_link(@recipe.source, :html => {:rel => "nofollow"}) %>
<p itemprop="recipeYield">Yield: <%= @recipe.serves %>
<% end %>

<div class="hide print-show">
  <% unless @recipe.notes.blank? %>
    <h2>Notes</h2>
    <%= sanitize markdown(@recipe.notes) %>
  <% end %>
</div>

<% if me_owns_recipe? %>
  <%= react_component("NoteEditor", recipe_id: @recipe.id) %>
<% else %>
  <div class="rounded border p2 notes text text-normalized">
    <% if @recipe.notes.blank? %>
    <p class="grey-4 mb0">No notes for this recipe &mdash; yet!</p>
    <% else %>
    <%= sanitize markdown(@recipe.notes) %>
    <% end %>
  </div>
<% end %>
