<header class="image-header inline-with-nav relative bg-cover bg-center pam pvl-ns flex-ns fac"
        style="background-image: url(<%= @recipe.img.url %>);">

  <div class="md-col-8 mx-auto mw7 flex-ns fac">
    <div class="dib flex-auto">
      <h1 class="white mbs h0" itemprop="name">
        <%= @recipe.title %>

        <%= form_for(@recipe, html: { class: 'lh0 dib dn-p' }) do |f| %>
          <label class="man tooltipped tooltipped--n" aria-label="Favorite">
            <%= f.check_box :favorite, class: 'recipe__favorite__checkbox', 'data-behavior': 'recipe_favorite_trigger' %>
            <%= inline_svg 'favorite_outline.svg', class: 'fill-white pointer recipe__favorite__indicator', size: 24 %>
            <%= inline_svg 'favorite.svg', class: 'fill-white pointer recipe__favorite__indicator--checked', size: 24 %>
          </label>
        <% end %>
      </h1>

      <% if @recipe.description.present? %>
      <div itemprop="description">
        <%= whitened_markdown @recipe.description, [:f3] %>
      </div>
      <% end %>

      <% if @recipe.user.present? && nav_active?(:shared_recipe) %>
        <p class="white f5">Shared by <%= @recipe.user.first_name %></p>
      <% end %>
    </div>

    <a href="#photo" name="photo" class="dib mrm lh0 relative pointer tooltipped"
       aria-label="View photo full size" data-behavior="modal_trigger">
      <%= inline_svg 'fullscreen.svg', class: 'fill-white', size: 28 %>
    </a>
  </div>
</header>

<section id="photo" role="dialog" class="modal sm-col-8 mw8">
  <div class="pointer absolute pas" style="right: 1rem;" data-behavior="modal_close">
    <%= inline_svg 'close.svg', class: 'fill-white',
                   style: '-webkit-filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
                              -moz-filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
                                   filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));' %>
  </div>
  <%= image_tag @recipe.img.url, class: 'col-12 fl',
                alt: "Photo of #{@recipe.title}", itemprop: 'image' %>
</section>

<%= render 'shared/flash' if flash.any? %>
