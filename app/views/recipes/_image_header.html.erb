<header class="image-header inline-with-nav relative bg-cover bg-center pam flex-ns fac"
        style="background-image: url(<%= @recipe.img.url %>);">

  <div class="md-col-8 mx-auto mw7 flex-ns fac">
    <div class="dtc col-12">
      <h1 class="white mbs dib h0" itemprop="name"><%= @recipe.title %></h1>

      <% if me_owns_recipe? %>
        <%= form_for(@recipe, data: { remote: true }, html: { class: 'dib dn-p mls' }) do |f| %>
          <label class="control man">
            <%= f.check_box :favorite, class: 'control-checkbox', data: { behavior: 'recipe_favorite_trigger' } %>
            <%= inline_svg 'favorite_outline.svg', class: 'fill-white pointer control-indicator', size: 24 %>
            <%= inline_svg 'favorite.svg', class: 'fill-white pointer control-indicator-checked', size: 24 %>
          </label>
        <% end %>
      <% end %>

      <% if @recipe.description.present? %>
      <div itemprop="description">
        <%= whitened_markdown @recipe.description, [:f3] %>
      </div>
      <% end %>

      <% if @recipe.user.present? && nav_active?(:shared_recipe) %>
        <p class="white f5">Shared by <%= @recipe.user.first_name %></p>
      <% end %>
    </div>

    <a href="#photo" name="photo" class="fr dtc relative pointer tooltipped"
       aria-label="View photo full size" data-behavior="modal_trigger">
      <%= inline_svg 'fullscreen.svg', class: 'fill-white' %>
    </a>
  </div>
</header>

<section id="photo" role="dialog" class="modal">
  <div class="pointer absolute pas" style="right: 1rem;" data-behavior="modal_close">
    <%= inline_svg 'close.svg', class: 'fill-white',
                   style: '-webkit-filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));
                                   filter: drop-shadow(0 2px 2px rgba(0,0,0,.25));' %>
  </div>
  <%= image_tag @recipe.img, class: 'col-12 fl', itemprop: 'image' %>
</section>

<%= render 'shared/flash' if flash.any? %>
